<div class="index">

  <h2> Hello <%= current_user.username %> </h2>

  <div class="stats group">
    <h3> Favorite Beer Statistics </h3>
    <canvas id="canvas" width="400" height="400"></canvas>
    <div class="d3-chart"></div>
  </div>

  <div class="saved">
    <h3> Saved Beers </h3>
    <div class='saved-beers-list-container'>
      <ul>
        <% @saved_beers.each do |saved_beer| %>
        <li> <%= saved_beer.beerinfo.beer_name %> </li>
        <% end %>
      </ul>
    </div>
  </div>

    <div class="recommended">
    <h3> Recommended Beers </h3>
    <div class='recommended-beers-list-container'>
      <ul>
        <% @all_rec_beers.each do |all_rec| %>
          <% 2.times do |i| %>
            <% rec = all_rec[1][i] %>
            <li> Try: <%= rec[0][1] %> by <%= rec[0][0] %> (Style: <%= rec[0][2] %>)
              <ul>
                <li> 
                  Because you enjoyed 
                  <%= all_rec[0][1] %> by <%= all_rec[0][0] %> 
                </li>
              </ul>
            </li>
          <% end %>
        <% end %>
      </ul>
    </div>
  </div>


</div>

<script>
var pieData = [
        {
          value : 1,
          color : "#F38630",
          label : 'Sleep',
          labelColor : 'white',
          labelFontSize : '10',
          labelAlign : 'left'
        },
        {
          value : 1,
          color : "#E0E4CC",
          label : 'Music',
          labelColor : '#444',
          labelFontSize : '1.4em',
          labelAlign: 'center'
        },
        {
          value : 2,
          color : "#69D2E7",
          label : 'Work',
          labelColor : 'rgb(0,0,0)',
          labelFontSize : '175%'
        }
      ];

  var myChart = new Chart(document.getElementById("canvas").getContext("2d"));
  var myPie = myChart.Pie(pieData, {
    animationSteps: 100,
    animationEasing: 'easeOutBounce'
  });

</script>